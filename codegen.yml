overwrite: true
schema: "src/core/server/graph/schema/schema.graphql"
config:
  namingConvention:
    typeNames: ./scripts/prefixTypes
    enumValues: keep
generates:
  src/core/server/graph/schema/__generated__/types.ts:
    plugins:
      - "typescript"
      # - "typescript-operations"
      - "typescript-resolvers"
      - add:
          content: "import GraphContext from 'coral-server/graph/context';"
      # - "typescript-document-nodes"
    config:
      defaultMapper: any # TODO: document
      contextType: "GraphContext"
      allowParentTypeOverride: true
      importStatement: "import GraphContext from 'coral-server/graph/context';"
      avoidOptionals:
        inputValue: true
      customResolverFn: "(parent: TParent, args: TArgs, ctx: TContext, info: GraphQLResolveInfo) => ResolverTypeWrapper<any>"
      maybeValue: "T | undefined"
      useInstanceSignature: true
      scalars: # TODO: check that this is indeed true
        ID:
          input: "string"
          output: "string"
  # src/core/client/framework/schema/__generated__/types.ts:
  #   schema:
  #     - "src/core/client/framework/lib/relay/local.graphql"
  #     - "src/core/client/admin/local/local.graphql"
  #     - "src/core/client/stream/local/local.graphql"
  #     - "src/core/client/auth/local/local.graphql"
  #   plugins:
  #     - "typescript"
  #     - "typescript-document-nodes"
